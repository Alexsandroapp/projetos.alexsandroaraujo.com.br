<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Dimensionamento de Condutores</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #121212;
            color: #e0e0e0;
        }
        .form-control, .form-select {
            background-color: #1e1e1e;
            color: white;
            border: 1px solid #333;
        }
        .form-check-input {
            background-color: #1e1e1e;
        }
    </style>
</head>
<body class="container py-4">
    <h2 class="mb-4">Calculadora de Condutores para Inversores</h2>
    <form method="post" class="row g-3">
        <div class="col-md-6">
            <label class="form-label">Potência do Inversor (W):</label>
            <input type="number" step="0.1" name="potencia" required class="form-control">
        </div>
        <div class="col-md-6">
            <label class="form-label">Tensão (V):</label>
            <input type="number" step="0.1" name="tensao" required class="form-control">
        </div>
        <div class="col-md-6">
            <label class="form-label">Tipo de Ligação:</label>
            <select name="tipo" class="form-select">
                <option value="monofasica">Monofásica</option>
                <option value="trifasica">Trifásica</option>
            </select>
        </div>
        <div class="col-md-6">
            <label class="form-label">Corrente Nominal de Saída (A):</label>
            <input type="number" step="0.1" name="corrente_nom" required class="form-control">
        </div>
        <div class="col-md-6">
            <label class="form-label">Corrente Máxima de Saída (A):</label>
            <input type="number" step="0.1" name="corrente_max" required class="form-control">
        </div>
        <div class="col-md-6 form-check mt-4">
            <input class="form-check-input" type="checkbox" name="usar_fp" id="fpCheck">
            <label class="form-check-label" for="fpCheck">Usar fator de potência</label>
        </div>
        <div class="col-md-6">
            <label class="form-label">Fator de Potência (ex: 0.8):</label>
            <input type="number" step="0.01" name="fator_potencia" class="form-control" value="0.8">
        </div>
        <div class="col-12">
            <button class="btn btn-primary">Calcular</button>
        </div>
    </form>

    {% if resultado %}
        <hr>
        <h4>Resultado:</h4>
        <ul>
            <li>Corrente Calculada: <strong>{{ resultado.corrente_calc }} A</strong></li>
            <li>Bitola recomendada: <strong>{{ resultado.bitola }} mm²</strong> (capacidade até {{ resultado.capacidade }} A)</li>
            <li>Faixa sugerida de disjuntor: <strong>{{ resultado.faixa_disjuntor }}</strong></li>
        </ul>
    {% endif %}
</body>
</html>
